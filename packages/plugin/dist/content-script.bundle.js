!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=151)}({151:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(152),u=n(153),c=a.promisePostMessage("ngProfilerDevtoolsContentScript","ngProfilerDevtoolsInjectedScript");u.injectScript("ng-devtools.bundle.js",function(){chrome.storage.local.get("ngTraceEnabled",function(e){var t=e.ngTraceEnabled;c.postMessage("toggleTracing",{enabled:t})})}),window.addEventListener("ContentScriptEvent",function(e){var t=e.detail;chrome.runtime.sendMessage({message:r({},t)})}),chrome.runtime.onMessage.addListener(function(e,t,n){return o(this,void 0,void 0,function(){return i(this,function(n){return console.log("received message",e,t),s[e.action]?(s[e.action](e.payload),[2]):(window.postMessage(e,"*"),[2])})})});var s={isAngularApp:function(){return function(){return o(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return console.log("sending to popup"),e=function(e){chrome.runtime.sendMessage({type:"isAngularApp",source:"ngProfilerDevtoolsContentScript",payload:e})},[4,c.postMessage("isAngularApp",{})];case 1:return t=n.sent(),e(t),[2]}})})}()},toggleTracing:function(e){return t=e,void c.postMessage("toggleTracing",{enabled:t});var t}}},152:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=1;t.promisePostMessage=function(e,t){var n={};return window.addEventListener("message",function(e){if(Array.isArray(e.data)){var o=r(e.data,3),i=o[0],a=o[1],u=o[2],c=n[i];c&&a&&a.source===t&&(c(a.payload,u),delete n[i])}}),{postMessage:function(t,r){var i=o++,a=[i,{source:e,action:t,payload:r}];return new Promise(function(e,t){n[i]=function(n,r){r&&t(new Error(r)),e(n)},window.postMessage(a,"*")})}}}},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new Set;t.injectScript=function(e,t){r.has(e)||(!function(e){var t=document.createElement("script");e(t),document.documentElement.appendChild(t),t.parentNode.removeChild(t)}(function(n){n.src=chrome.extension.getURL(e),t&&(n.onload=t)}),r.add(e))}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRlbnQtc2NyaXB0L2NvbnRlbnQtc2NyaXB0LnRzIiwid2VicGFjazovLy8uL3NyYy9tZXNzYWdpbmcvbWVzc2FnaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250ZW50LXNjcmlwdC9pbmplY3Rpb24udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJtZXNzYWdpbmdfMSIsImluamVjdGlvbl8xIiwicHJvbWlzZWRQb3N0TWVzc2FnZSIsInByb21pc2VQb3N0TWVzc2FnZSIsImluamVjdFNjcmlwdCIsImNocm9tZSIsInN0b3JhZ2UiLCJsb2NhbCIsIl9hIiwibmdUcmFjZUVuYWJsZWQiLCJwb3N0TWVzc2FnZSIsImVuYWJsZWQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJkZXRhaWwiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJtZXNzYWdlIiwiX19hc3NpZ24iLCJvbk1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsInJlcXVlc3QiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwiSEFORExFUlMiLCJhY3Rpb24iLCJwYXlsb2FkIiwiaXNBbmd1bGFyQXBwIiwic2VuZFRvUG9wdXAiLCJ0eXBlIiwic291cmNlIiwiaXNBbmd1bGFyIiwic2VudCIsInRvZ2dsZVRyYWNpbmciLCJ0cmFjaW5nRW5hYmxlZCIsInVuaXF1ZUlkIiwiZnJvbUV2ZW50U291cmNlIiwidG9FdmVudFNvdXJjZSIsIm1lc3NhZ2VIYW5kbGVycyIsIkFycmF5IiwiaXNBcnJheSIsImRhdGEiLCJfX3JlYWQiLCJtZXNzYWdlSWQiLCJyZXN1bHQiLCJlcnJvciIsImhhbmRsZXIiLCJpZCIsIm1lc3NhZ2VUb1NlbmQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkVycm9yIiwic2NyaXB0SW5qZWN0aW9uIiwiU2V0IiwicGF0aCIsIm9uTG9hZEhhbmRsZXIiLCJoYXMiLCJmbiIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaW5qZWN0Iiwic3JjIiwiZXh0ZW5zaW9uIiwiZ2V0VVJMIiwib25sb2FkIiwiYWRkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxh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LENBQ05wQyxZQUFhLFNBQUNrQixFQUFnQkMsR0FDN0IsSUFBTXFCLEVBQUtaLElBQ0xhLEVBQW1DLENBQ3hDRCxFQUNBLENBQ0NqQixPQUFRTSxFQUNSWCxPQUFNQSxFQUNOQyxRQUFTQSxJQUlYLE9BQU8sSUFBSXVCLFFBQVEsU0FBQ0MsRUFBU0MsR0FDNUJiLEVBQWdCUyxHQUFNLFNBQUNILEVBQVFDLEdBQzFCQSxHQUNITSxFQUFPLElBQUlDLE1BQU1QLElBR2xCSyxFQUFRTixJQUlUbkMsT0FBT0YsWUFBWXlDLEVBQWUsNkZDbER0QyxJQUFJSyxFQUFrQixJQUFJQyxJQVNiM0YsRUFBQXNDLGFBQWUsU0FBQ3NELEVBQWNDLEdBQ3RDSCxFQUFnQkksSUFBSUYsTUFSVixTQUFDRyxHQUNmLElBQU1DLEVBQVNDLFNBQVNDLGNBQWMsVUFDdENILEVBQUdDLEdBQ0hDLFNBQVNFLGdCQUFnQkMsWUFBWUosR0FDckNBLEVBQU9LLFdBQVdDLFlBQVlOLEdBUTlCTyxDQUFPLFNBQUFQLEdBQ05BLEVBQU9RLElBQU1qRSxPQUFPa0UsVUFBVUMsT0FBT2QsR0FDakNDLElBQ0hHLEVBQU9XLE9BQVNkLEtBSWxCSCxFQUFnQmtCLElBQUloQiIsImZpbGUiOiJjb250ZW50LXNjcmlwdC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTUxKTtcbiIsImltcG9ydCB7IENvbnRlbnRTY3JpcHRFdmVudHMsIEV2ZW50U291cmNlIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IHByb21pc2VQb3N0TWVzc2FnZSB9IGZyb20gJy4uL21lc3NhZ2luZy9tZXNzYWdpbmcnO1xuaW1wb3J0IHsgaW5qZWN0U2NyaXB0IH0gZnJvbSAnLi9pbmplY3Rpb24nO1xuaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJy4uL21lc3NhZ2luZy9tZXNzYWdlLXR5cGVzJztcblxuY29uc3QgcHJvbWlzZWRQb3N0TWVzc2FnZSA9IHByb21pc2VQb3N0TWVzc2FnZShFdmVudFNvdXJjZS5DT05URU5UX1NDUklQVCwgRXZlbnRTb3VyY2UuSU5KRUNURURfU0NSSVBUKTtcblxuZnVuY3Rpb24gb25JbmplY3RlZFNjcmlwdExvYWRlZCgpIHtcblx0Y2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KCduZ1RyYWNlRW5hYmxlZCcsICh7bmdUcmFjZUVuYWJsZWR9KSA9PiB7XG5cdFx0cHJvbWlzZWRQb3N0TWVzc2FnZS5wb3N0TWVzc2FnZShDb250ZW50U2NyaXB0RXZlbnRzLlRPR0dMRV9UUkFDSU5HLCB7ZW5hYmxlZDogbmdUcmFjZUVuYWJsZWR9KTtcblx0fSk7XG59XG5cbi8vIExvYWQgdGhlIHNjcmlwdCBhbmQgb25Mb2FkIHNlbmQgdGhlIGN1cnJlbnQgdHJhY2luZyBzdGF0dXNcbmluamVjdFNjcmlwdCgnbmctZGV2dG9vbHMuYnVuZGxlLmpzJywgb25JbmplY3RlZFNjcmlwdExvYWRlZCk7XG4vL1xuLy8gLy8gTWVzc2FnZXMgZnJvbSB0aGUgcG9wdXAgc2NyaXB0XG4vLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudDogeyBzb3VyY2U6IGFueTsgZGF0YTogYW55IH0pIHtcbi8vIFx0Y29uc29sZS5sb2coJ3JlY2VpdmVkIG1lc3NhZ2UgaW4gdGhlIGNvbnRlbnQgc2NyaXB0JywgZXZlbnQpO1xuLy8gXHQvLyBPbmx5IGFjY2VwdCBtZXNzYWdlcyBmcm9tIHRoZSBzYW1lIGZyYW1lXG4vLyBcdGlmIChldmVudC5zb3VyY2UgIT09IHdpbmRvdykge1xuLy8gXHRcdHJldHVybjtcbi8vIFx0fVxuLy9cbi8vIFx0Y29uc3Qge2RhdGF9ID0gZXZlbnQ7XG4vLyBcdC8vIE9ubHkgYWNjZXB0IG1lc3NhZ2VzIHRoYXQgd2Uga25vdyBhcmUgb3Vyc1xuLy8gXHRpZiAoXG4vLyBcdFx0dHlwZW9mIGRhdGEgIT09ICdvYmplY3QnIHx8XG4vLyBcdFx0ZGF0YSA9PT0gbnVsbCB8fFxuLy8gXHRcdGRhdGEuc291cmNlICE9PSBFdmVudFNvdXJjZS5QT1BVUF9TQ1JJUFRcbi8vIFx0KSB7XG4vLyBcdFx0cmV0dXJuO1xuLy8gXHR9XG4vL1xuLy9cbi8vIFx0Ly8gQ2hlY2sgaWYgdGhlIGV2ZW50IGlzIHN1cHBvc2VkIHRvIGJlIGhhbmRsZWQgYnkgdGhlIGNvbnRlbnQgc2NyaXB0IG9yIG5vdFxuLy8gXHRjb25zdCB7dHlwZSwgcGF5bG9hZH0gPSBkYXRhO1xuLy8gXHRpZiAodHlwZSA9PT0gJ3RvZ2dsZScpIHtcbi8vIFx0XHRjb25zb2xlLmxvZygndG9nZ2xlIHRyYWNpbmcnLCBwYXlsb2FkKTtcbi8vIFx0XHQvLyBzZW5kTWVzc2FnZShjcmVhdGVUcmFjaW5nU3RhdHVzRXZlbnQocGF5bG9hZCkpO1xuLy8gXHRcdHByb21pc2VkUG9zdE1lc3NhZ2UucG9zdE1lc3NhZ2UoQ29udGVudFNjcmlwdEV2ZW50cy5UT0dHTEVfVFJBQ0lORywge2VuYWJsZWQ6IHBheWxvYWR9KTtcbi8vIFx0XHRyZXR1cm47XG4vLyBcdH1cbi8vIH0pO1xuXG4vLyBNZXNzYWdlcyBmcm9tIHRoZSBpbmplY3RlZCBzY3JpcHRcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdDb250ZW50U2NyaXB0RXZlbnQnLCBmdW5jdGlvbiAoZXZlbnQ6IGFueSkge1xuXHRjb25zdCB7ZGV0YWlsfSA9IGV2ZW50O1xuXHRjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7bWVzc2FnZTogey4uLmRldGFpbH19KTtcbn0pO1xuXG4vLyBMaXN0ZW4gZm9yIG1lc3NhZ2VzIGZyb20gdGhlIHBvcHVwIHNjcmlwdCBhbmQgYmFja2dyb3VuZCBwYWdlXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoYXN5bmMgZnVuY3Rpb24gKHJlcXVlc3Q6IE1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG5cdGNvbnNvbGUubG9nKCdyZWNlaXZlZCBtZXNzYWdlJywgcmVxdWVzdCwgc2VuZGVyKTtcblx0aWYgKEhBTkRMRVJTW3JlcXVlc3QuYWN0aW9uXSkge1xuXHRcdC8vIGNvbnNvbGUubG9nKCdmb3VuZCBoYW5kbGVyJywgcmVxdWVzdC5hY3Rpb24pO1xuXHRcdEhBTkRMRVJTW3JlcXVlc3QuYWN0aW9uXShyZXF1ZXN0LnBheWxvYWQpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHdpbmRvdy5wb3N0TWVzc2FnZShyZXF1ZXN0LCAnKicpO1xufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGlzQW5ndWxhckFwcCgpIHtcblx0Y29uc29sZS5sb2coJ3NlbmRpbmcgdG8gcG9wdXAnKTtcblx0Y29uc3Qgc2VuZFRvUG9wdXAgPSAoaXNBbmd1bGFyQXBwKSA9PiB7XG5cdFx0Y2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe3R5cGU6IENvbnRlbnRTY3JpcHRFdmVudHMuSVNfQU5HVUxBUiwgc291cmNlOiBFdmVudFNvdXJjZS5DT05URU5UX1NDUklQVCwgcGF5bG9hZDogaXNBbmd1bGFyQXBwfSk7XG5cdH07XG5cdGNvbnN0IGlzQW5ndWxhciA9IGF3YWl0IHByb21pc2VkUG9zdE1lc3NhZ2UucG9zdE1lc3NhZ2UoQ29udGVudFNjcmlwdEV2ZW50cy5JU19BTkdVTEFSLCB7fSk7XG5cdHNlbmRUb1BvcHVwKGlzQW5ndWxhcik7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVRyYWNpbmcodHJhY2luZ0VuYWJsZWQ6IGJvb2xlYW4pIHtcblx0cHJvbWlzZWRQb3N0TWVzc2FnZS5wb3N0TWVzc2FnZShDb250ZW50U2NyaXB0RXZlbnRzLlRPR0dMRV9UUkFDSU5HLCB7ZW5hYmxlZDogdHJhY2luZ0VuYWJsZWR9KTtcbn1cblxuY29uc3QgSEFORExFUlMgPSB7XG5cdGlzQW5ndWxhckFwcDogKCkgPT4gaXNBbmd1bGFyQXBwKCksXG5cdHRvZ2dsZVRyYWNpbmc6IChwYXlsb2FkKSA9PiB0b2dnbGVUcmFjaW5nKHBheWxvYWQpLFxufTtcbiIsImltcG9ydCB7IEV2ZW50U291cmNlIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuL21lc3NhZ2UtdHlwZXMnO1xuXG5sZXQgdW5pcXVlSWQgPSAxO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZVBvc3RNZXNzYWdlKGZyb21FdmVudFNvdXJjZTogRXZlbnRTb3VyY2UsIHRvRXZlbnRTb3VyY2U6IEV2ZW50U291cmNlKSB7XG5cdGNvbnN0IG1lc3NhZ2VIYW5kbGVyczoge1xuXHRcdFtrZXk6IHN0cmluZ106IChyZXN1bHQ6IGFueSwgZXJyb3I6IGFueSkgPT4gdm9pZDtcblx0fSA9IHt9O1xuXG5cdGZ1bmN0aW9uIG9uTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlRXZlbnQpIHtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkobWVzc2FnZS5kYXRhKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBbbWVzc2FnZUlkLCByZXN1bHQsIGVycm9yXSA9IG1lc3NhZ2UuZGF0YTtcblxuXHRcdGNvbnN0IGhhbmRsZXIgPSBtZXNzYWdlSGFuZGxlcnNbbWVzc2FnZUlkXTtcblxuXHRcdGlmICghaGFuZGxlciB8fCAhcmVzdWx0IHx8IHJlc3VsdC5zb3VyY2UgIT09IHRvRXZlbnRTb3VyY2UpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRoYW5kbGVyKHJlc3VsdC5wYXlsb2FkLCBlcnJvcik7XG5cdFx0ZGVsZXRlIG1lc3NhZ2VIYW5kbGVyc1ttZXNzYWdlSWRdO1xuXHR9XG5cblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xuXG5cdHJldHVybiB7XG5cdFx0cG9zdE1lc3NhZ2U6IChhY3Rpb246IHN0cmluZywgcGF5bG9hZD86IGFueSk6IFByb21pc2U8YW55PiA9PiB7XG5cdFx0XHRjb25zdCBpZCA9IHVuaXF1ZUlkKys7XG5cdFx0XHRjb25zdCBtZXNzYWdlVG9TZW5kOiBbbnVtYmVyLCBNZXNzYWdlXSA9IFtcblx0XHRcdFx0aWQsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzb3VyY2U6IGZyb21FdmVudFNvdXJjZSxcblx0XHRcdFx0XHRhY3Rpb24sXG5cdFx0XHRcdFx0cGF5bG9hZDogcGF5bG9hZFxuXHRcdFx0XHR9XG5cdFx0XHRdO1xuXG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRtZXNzYWdlSGFuZGxlcnNbaWRdID0gKHJlc3VsdCwgZXJyb3IpID0+IHtcblx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoZXJyb3IpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXNvbHZlKHJlc3VsdCk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gLy8gY29uc29sZS5sb2coJ3NlbmRpbmcgbWVzc2FnZScsIG1lc3NhZ2VUb1NlbmQpO1xuXHRcdFx0XHR3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZVRvU2VuZCwgJyonKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcbn1cbiIsImxldCBzY3JpcHRJbmplY3Rpb24gPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuY29uc3QgaW5qZWN0ID0gKGZuOiAoZWxlbWVudDogSFRNTFNjcmlwdEVsZW1lbnQpID0+IHZvaWQpID0+IHtcblx0Y29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cdGZuKHNjcmlwdCk7XG5cdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXHRzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdFNjcmlwdCA9IChwYXRoOiBzdHJpbmcsIG9uTG9hZEhhbmRsZXI/OiAoKSA9PiB2b2lkKSA9PiB7XG5cdGlmIChzY3JpcHRJbmplY3Rpb24uaGFzKHBhdGgpKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aW5qZWN0KHNjcmlwdCA9PiB7XG5cdFx0c2NyaXB0LnNyYyA9IGNocm9tZS5leHRlbnNpb24uZ2V0VVJMKHBhdGgpO1xuXHRcdGlmIChvbkxvYWRIYW5kbGVyKSB7XG5cdFx0XHRzY3JpcHQub25sb2FkID0gb25Mb2FkSGFuZGxlcjtcblx0XHR9XG5cdH0pO1xuXG5cdHNjcmlwdEluamVjdGlvbi5hZGQocGF0aCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==